(function(e){function t(t){for(var n,r,o=t[0],c=t[1],l=t[2],h=0,d=[];h<o.length;h++)r=o[h],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&d.push(s[r][0]),s[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(d.length)d.shift()();return a.push.apply(a,l||[]),i()}function i(){for(var e,t=0;t<a.length;t++){for(var i=a[t],n=!0,o=1;o<i.length;o++){var c=i[o];0!==s[c]&&(n=!1)}n&&(a.splice(t--,1),e=r(r.s=i[0]))}return e}var n={},s={app:0},a=[];function r(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=n,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/minis-wishes/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;a.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"0b96":function(e,t,i){},"0ce0":function(e){e.exports=JSON.parse('{"ru":{"apple":"Яблоко","avocado":"Авокадо","banana":"Банан","banknote":"Курс рубля","beer":"Пиво","biscuit":"Бисквит","bong":"Саксофон","broccoli":"Брокколи","burrito":"Шаурма","chicken":"Курочка","clown":"Клоун","coconut":"Кокос","coffee":"Кофе","donut":"Пончик","duck":"Уточка","dumplings":"Пельмени","guitar2":"Гитара","horse":"Конык","kiwi":"Киви","marijuana":"Звезда","medicine":"Успокоительные","orange":"Апельсин","plant":"Растение","prawn":"Креветка","robot":"Секс-машина","seal":"Тюлень","shamrock":"Клевер","strawberry":"Клубничка","tulip":"Тюльман","unicorn":"Единорог"},"en":{"apple":"Apple","avocado":"Avocado","banana":"Banana","banknote":"Banknote","beer":"Beer","biscuit":"Biscuit","bong":"Bong","broccoli":"Broccoli","burrito":"Burrito","chicken":"Chicken","clown":"Clown","coconut":"Coconut","coffee":"Coffee","donut":"Donut","duck":"Duck","dumplings":"Dumplings","guitar2":"Guitar","horse":"Horse","kiwi":"Kiwi","marijuana":"Marijuana","medicine":"Medicine","orange":"Orange","plant":"Plant","prawn":"Prawn","robot":"Robot","seal":"Seal","shamrock":"Shamrock","strawberry":"Strawberry","tulip":"Tulip","unicorn":"Unicorn"}}')},"0d87":function(e,t,i){"use strict";i("a25b")},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container",class:{fullscreen:e.isFullscreen},style:{height:e.innerHeight+"px",maxWidth:e.isDesktop?e.containerWidth+"px":"100vw",maxHeight:e.isDesktop?e.containerHeight+"px":"100vh"}},[i("Icon",{staticClass:"flower",attrs:{type:"woman-head",size:22}}),e.isPageLoad?i("div",{staticClass:"minis__wrapper"},[e.isDesktop?i("SettingsDesktop",{attrs:{themeIcon:e.themeMain.icon},on:{switchTheme:e.switchTheme,switchLang:e.switchLang,switchFullscreen:e.switchFullscreen},model:{value:e.isClosedSettings,callback:function(t){e.isClosedSettings=t},expression:"isClosedSettings"}}):e._e(),i("LayoutContent",{ref:"layoutContent",style:{filter:e.openedModalName?"blur(2px)":"none"},attrs:{appWidth:e.appWidth,appHeight:e.appHeight,bodyHeight:e.innerHeight,isDesktop:e.isDesktop,isWidthMore768:e.isWidthMore768},on:{switchSettings:function(t){e.isClosedSettings=!e.isClosedSettings},openModal:function(t){e.openedModalName=t}}}),i("AppModal",{attrs:{isRoundedBorder:e.isWidthMore768&&!e.isFullscreen},model:{value:e.openedModalName,callback:function(t){e.openedModalName=t},expression:"openedModalName"}},["settings"==e.openedModalName?i("SettingsMobile",{attrs:{themeIcon:e.themeMain.icon,isWidthMore768:e.isWidthMore768},on:{switchTheme:e.switchTheme,switchLang:e.switchLang,switchFullscreen:e.switchFullscreen}}):e._e(),"wish"==e.openedModalName?i("div",{staticStyle:{"text-align":"center"},domProps:{textContent:e._s(e.lodash.get(e.wishes,e.changedWish.textId,e.translateErrorMessage))}}):e._e()],1),e.isDesktop?i("div",{staticClass:"resize_button",on:{mousedown:function(t){return t.preventDefault(),e.startResize.apply(null,arguments)},dblclick:function(t){return t.preventDefault(),e.autoResize.apply(null,arguments)}}}):e._e(),e.isDesktop?i("a",{staticClass:"minis",attrs:{href:"https://adequm.github.io/minis",target:"_blank"},domProps:{textContent:e._s("Minis")}}):e._e()],1):i("Icon",{staticClass:"loader",attrs:{type:"time-oclock",size:100,rotate:""}})],1)},a=[],r=i("5530"),o=i("2ef0"),c=i.n(o),l=i("1da1"),u=i("3835"),h=(i("96cf"),i("07ac"),i("d3b7"),i("159b"),i("4fad"),i("2f62")),d={name:"App",data:function(){return{isPageLoad:!1}},watch:{translateOfMinis:{deep:!0,immediate:!0,handler:function(e){Object.values(e).length&&(document.title=this.translate("title"))}},themeMain:{deep:!0,handler:"themeMainInit"},themeSpecial:{deep:!0,handler:"themeSpecialInit"},themesJSON:{deep:!0,handler:"themesJSONInit"}},computed:Object(r["a"])(Object(r["a"])({},Object(h["b"])(["themeMain","themeSpecialName","themeSpecial"])),Object(h["d"])({minisTheme:function(e){return e.minis.minisTheme},minisLang:function(e){return e.minis.minisLang},themesJSON:function(e){return e.minis.themesJSON},minisJSON:function(e){return e.minis.minisJSON},translateJSON:function(e){return e.minis.translateJSON}})),methods:Object(r["a"])(Object(r["a"])({},Object(h["c"])({switchTheme:function(e,t){return e("switchTheme",t)},switchLang:function(e,t){return e("switchLang",t)},initMinis:function(e,t){return e("initMinis",t)}})),{},{themeMainInit:function(){if(!this.themeMain)return this.switchTheme("main");Object.entries(this.themeMain.colors).forEach((function(e){var t=Object(u["a"])(e,2),i=t[0],n=t[1];document.body.style.setProperty("--".concat(i),n)}))},themeSpecialInit:function(){if(!this.themeSpecial)return this.switchTheme("special");document.body.style.setProperty("--special-color",this.themeSpecial.normal)},themesJSONInit:function(){Object.entries(this.themesJSON.default||[]).forEach((function(e){var t=Object(u["a"])(e,2),i=t[0],n=t[1];document.body.style.setProperty("--".concat(i,"-color"),n)}))},isExistMinisData:function(){return c.a.size(this.themesJSON)&&c.a.size(this.minisJSON)&&c.a.size(this.translateJSON)},getMinisOptions:function(){var e=this,t="https://adequm.github.io/minis";return new Promise(function(){var i=Object(l["a"])(regeneratorRuntime.mark((function i(n){var s,a,r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,fetch("".concat(t,"/translateJSON.json")).then((function(e){return e.json()}));case 3:return s=i.sent,i.next=6,fetch("".concat(t,"/minisJSON.json")).then((function(e){return e.json()}));case 6:return a=i.sent,i.next=9,fetch("".concat(t,"/themesJSON.json")).then((function(e){return e.json()}));case 9:r=i.sent,n({translateJSON:s,minisJSON:a,themesJSON:r}),i.next=16;break;case 13:i.prev=13,i.t0=i["catch"](0),setTimeout(Object(l["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isExistMinisData()&&(e.themeMainInit(),e.themeSpecialInit(),e.themesJSONInit(),e.isPageLoad=!0),t.next=3,e.getMinisOptions();case 3:i=t.sent,n(i);case 5:case"end":return t.stop()}}),t)}))),2e3);case 16:case"end":return i.stop()}}),i,null,[[0,13]])})));return function(e){return i.apply(this,arguments)}}())}}),created:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getMinisOptions();case 2:i=t.sent,e.initMinis(i),e.isPageLoad=!0;case 5:case"end":return t.stop()}}),t)})))()}},p={data:function(){return{minContainerWidth:300,minContainerHeight:560,containerWidth:null,containerHeight:null,innerHeight:null,innerWidth:null,startResizeX:null,startResizeY:null,startResizeWidth:null,startResizeHeight:null,resizeHash:null,onInputFocus:!1}},watch:{isFullscreen:"resizeContainer",innerHeight:"resizeContainer",innerWidth:"resizeContainer"},computed:Object(r["a"])(Object(r["a"])({},Object(h["d"])(["isFullscreen"])),{},{isWidthMore768:function(e){return e.innerWidth>=768},isDesktop:function(e){return e.isWidthMore768&&!e.isFullscreen},appWidth:function(e){return e.isDesktop?e.containerWidth:e.innerWidth},appHeight:function(e){return e.isDesktop?e.containerHeight:e.innerHeight},maxContainerWidth:function(e){return e.innerWidth-180},maxContainerHeight:function(e){return e.innerHeight-100},isMinContainerWidth:function(e){return e.containerWidth===e.minContainerWidth},isMaxContainerWidth:function(e){return e.containerWidth===e.maxContainerWidth},isMinContainerHeight:function(e){return e.containerHeight===e.minContainerHeight},isMaxContainerHeight:function(e){return e.containerHeight===e.maxContainerHeight}}),methods:{resizeContainer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.containerWidth,i=this.minContainerWidth,n=this.maxContainerWidth,s=this.containerHeight,a=this.minContainerHeight,r=this.maxContainerHeight;this.containerWidth=c.a.clamp(e.containerWidth||t,i,n),this.containerHeight=c.a.clamp(e.containerHeight||s,a,r)},setContainerSize:function(e){var t=this,i=e.pageX,n=e.pageY;requestAnimationFrame((function(){if(!c.a.isNull(t.startResizeX)&&!c.a.isNull(t.startResizeWidth)&&!c.a.isNull(t.startResizeY)&&!c.a.isNull(t.startResizeHeight)){var e=2*(i-t.startResizeX)+t.startResizeWidth,s=2*(n-t.startResizeY)+t.startResizeHeight;t.resizeContainer({containerWidth:e,containerHeight:s})}}))},startResize:function(e){this.startResizeX=e.pageX,this.startResizeY=e.pageY,this.startResizeWidth=this.containerWidth,this.startResizeHeight=this.containerHeight,document.addEventListener("mousemove",this.setContainerSize),document.addEventListener("mouseup",this.stopResize),window.addEventListener("mouseleave",this.stopResize),window.addEventListener("click",this.stopResize),window.addEventListener("contextmenu",this.stopResize)},stopResize:function(){this.startResizeX=null,this.startResizeY=null,this.startResizeWidth=null,this.startResizeHeight=null,document.removeEventListener("mousemove",this.setContainerSize),document.removeEventListener("mouseup",this.stopResize),window.removeEventListener("mouseleave",this.stopResize),window.removeEventListener("click",this.stopResize),window.removeEventListener("contextmenu",this.stopResize)},autoResize:function(){var e=this.isMinContainerWidth&&this.isMinContainerHeight;this.resizeContainer({containerWidth:e?this.maxContainerWidth:this.minContainerWidth,containerHeight:e?this.maxContainerHeight:this.minContainerHeight})}},beforeMount:function(){var e=this,t=function(){e.innerWidth=document.body.offsetWidth,e.onInputFocus||(e.innerHeight=innerHeight)};t(),window.addEventListener("resize",t),setInterval(t,1e3)}},m=(i("ac1f"),i("1276"),i("cb29"),i("99af"),i("e9c4"),{watch:{themeHash:{immediate:!0,handler:function(){var e=this,t=new Image,i=location.pathname.split("/")[1];t.src="/".concat(i,"/icon.svg"),t.addEventListener("load",(function(){[16,32].forEach((function(i){var n,s=document.createElement("canvas");s.height=i,s.width=i;var a=s.getContext("2d");a.beginPath(),a.drawImage(t,0,0,i,i),a.globalCompositeOperation="source-in",a.rect(0,0,i,i),a.fillStyle=null===(n=e.themeSpecial)||void 0===n?void 0:n.normal,a.fill();var r=document.querySelector('link[sizes="'.concat(i,"x").concat(i,'"]'));r.setAttribute("href",s.toDataURL())}))}))}}},computed:Object(r["a"])(Object(r["a"])({},Object(h["b"])(["themeSpecial","themeMain"])),{},{themeHash:function(){return JSON.stringify(this.themeSpecial)+JSON.stringify(this.themeMain)}})}),f={computed:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(h["d"])(["projectKey"])),Object(h["d"])({minisLang:function(e){return e.minis.minisLang},translateJSON:function(e){return e.minis.translateJSON}})),{},{translateOfMinis:function(e){var t=e.translateJSON,i=e.minisLang,n=e.projectKey;return c.a.get(null===t||void 0===t?void 0:t[i],n,{})},translateErrorMessage:function(e){var t=e.translateJSON,i=e.minisLang;return c.a.get(null===t||void 0===t?void 0:t[i],"default.error","%err%")},translate:function(e){var t=e.translateErrorMessage,i=e.translateOfMinis;return function(e,n){return c.a.get(i,e,n||t)}},translateDef:function(e){var t=e.translateJSON,i=e.minisLang,n=e.translateErrorMessage;return function(e,s){var a;return c.a.get(null===t||void 0===t||null===(a=t[i])||void 0===a?void 0:a.default,e,s||n)}},translateChain:function(e){var t=e.translateJSON,i=e.minisLang,n=e.translateErrorMessage;return function e(t,i,s){var a=i||c.a.isNumber(i)?c.a.get(t,i,s||n):t;return function(t,i){return t?e(a,t,i):a}}(null===t||void 0===t?void 0:t[i])}})},g=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"icon",attrs:{"area-text":e.text,side:e.side},on:{click:function(t){return e.$emit("click",t)}}},[i("i",{class:["fi fi-"+e.border+"-"+e.type,{rotate:e.rotate}],style:{fontSize:e.size+"px",maxHeight:e.size+"px",maxWidth:e.size+"px",lineHeight:1}})])},v=[],w=(i("a9e3"),{name:"Icon",props:{type:String,size:{type:Number,default:20},border:{type:String,default:"rs"},text:String,side:{type:String,default:"left"},rotate:{type:Boolean,default:!1}}}),b=w,y=(i("e59a"),i("2877")),S=Object(y["a"])(b,g,v,!1,null,"27d701bb",null),O=S.exports,x=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"settings",class:{isClosedSettings:e.value}},[i("Icon",{attrs:{type:"settings",size:22},on:{click:function(t){return t.preventDefault(),e.$emit("input",!e.value)}}}),i("Icon",{attrs:{type:e.themeIcon,size:22},on:{click:function(t){return t.preventDefault(),e.$emit("switchTheme","main")}}}),i("Icon",{attrs:{type:"palette",size:22},on:{click:function(t){return t.preventDefault(),e.$emit("switchTheme","special")}}}),i("Icon",{attrs:{type:"globe",size:22},on:{click:function(t){return t.preventDefault(),e.$emit("switchLang")}}}),i("Icon",{attrs:{type:"expand-arrows-alt",size:22},on:{click:function(t){return t.preventDefault(),e.$emit("switchFullscreen")}}})],1)},k=[],W={name:"SettingsDesktop",components:{Icon:O},props:{themeIcon:String,value:Boolean}},C=W,T=(i("f937"),Object(y["a"])(C,x,k,!1,null,"cd2b87c0",null)),N=T.exports,M=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"settings",class:{isClosedSettings:e.value}},[i("Icon",{attrs:{type:e.themeIcon,size:30},on:{click:function(t){return t.preventDefault(),e.$emit("switchTheme","main")}}}),i("Icon",{attrs:{type:"palette",size:30},on:{click:function(t){return t.preventDefault(),e.$emit("switchTheme","special")}}}),i("Icon",{attrs:{type:"globe",size:30},on:{click:function(t){return t.preventDefault(),e.$emit("switchLang")}}}),e.isWidthMore768?i("Icon",{attrs:{type:"compress-alt",size:30},on:{click:function(t){return t.preventDefault(),e.$emit("switchFullscreen")}}}):e._e(),i("a",{staticClass:"minis",attrs:{href:"https://adequm.github.io/minis",target:"_blank"}},[i("Icon",{attrs:{type:"home",size:30}})],1)],1)},j=[],z={name:"SettingsMobile",components:{Icon:O},props:{themeIcon:String,value:Boolean,isWidthMore768:Boolean}},_=z,L=(i("72b7"),Object(y["a"])(_,M,j,!1,null,"0335f584",null)),H=L.exports,R=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.value?i("div",{staticClass:"modal"},[i("div",{staticClass:"modal__background",style:{borderRadius:e.isRoundedBorder?"10px":0},on:{click:function(t){return e.$emit("input",null)}}}),i("div",{staticClass:"modal__content"},[e._t("default")],2)]):e._e()},I=[],D={name:"AppModal",props:{value:String,isRoundedBorder:Boolean}},J=D,E=(i("d645"),Object(y["a"])(J,R,I,!1,null,"50be267c",null)),$=E.exports,B=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"minis__content",style:{minHeight:e.appHeight+"px",gridTemplateRows:e.gridTemplateRows}},[i("div",{staticClass:"minis__header",style:{cursor:e.isNotChagedSlide?"pointer":"default",fontSize:e.isNotChagedSlide?"20px":"24px"},on:{click:function(t){e.isNotChagedSlide&&e.slideToChangedWish()}}},[i("span",{domProps:{textContent:e._s(e.headerText)}}),e.isNotChagedSlide?i("span",{staticStyle:{color:"var(--text-color)","margin-left":".25em"},domProps:{textContent:e._s(e.translate("display.description"))}}):e._e()]),i("div",{staticClass:"minis__display"},[i("div",{staticClass:"minis__body"},[i("LayoutWish",{ref:"layoutWish",attrs:{appWidth:e.appWidth,bodyHeight:e.bodyHeight,changedWish:e.changedWish,wishesTypes:e.wishesTypes,wishesTypesList:e.wishesTypesList,slideStartIndex:e.lodash.indexOf(e.wishesTypesList,e.wishType),wishType:e.wishType},on:{changeWishType:e.changeWishType,changeWish:e.changeWishHandler,openModal:function(t){return e.$emit("openModal",t)}}})],1),i("div",{staticClass:"minis__footer"},[i("div",{staticClass:"minis__button minis__button-change",attrs:{disabled:e.checkTime},domProps:{textContent:e._s(e.checkTimeFormat||e.translateDef("change"))},on:{click:function(t){return t.preventDefault(),e.changeWishHandler.apply(null,arguments)}}}),e.isDesktop?e._e():i("div",{staticClass:"minis__button minis__button-settings",on:{click:function(t){return e.$emit("openModal","settings")}}},[i("Icon",{attrs:{type:"settings"}})],1)])])])},P=[],F=(i("4d90"),i("25f0"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"layout swiper-horizontal",attrs:{id:"layout-wish"}},[i("div",{staticClass:"display"},[e.lodash.size(e.wishesTypes)?i("Swiper",{ref:"swiper",attrs:{loop:""},on:{activeIndexChange:e.activeIndexChange}},e._l(e.lodash.entries(e.wishesTypes),(function(t){var n=t[0],s=t[1];return i("SwiperSlide",{key:n},[i("DisplayWish",{attrs:{text:s,icon:n,open:n==e.changedWish.type,isHideDisplayDescription:e.changedWish.type&&n!==e.changedWish.type},on:{click:function(t){return e.$emit("changeWish")},openModal:function(t){return e.$emit("openModal",t)}}})],1)})),1):e._e()],1),i("SlideButtons",{on:{slidePrev:function(t){return e.lodash.invoke(e.swiperRef,"slidePrev")},slideNext:function(t){return e.lodash.invoke(e.swiperRef,"slideNext")}}})],1)}),A=[],q=i("d7cf"),X=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container",on:{click:function(t){return e.$emit("click")}}},[i("div",{staticClass:"container__image",class:{open:e.open},attrs:{icon:e.icon}},[i("img",{attrs:{src:"./icons/"+e.icon+".png"}}),i("img",{attrs:{src:"./icons/"+e.icon+".png"}}),i("div",{staticClass:"container__wish"},[i("span",[i("Icon",{attrs:{type:"gift",size:40},on:{click:function(t){return e.$emit("openModal","wish")}}})],1)]),i("div",{staticClass:"container__text"},[i("span",{domProps:{textContent:e._s(e.text)}}),e.isHideDisplayDescription?e._e():i("span",{staticStyle:{color:"var(--text-color)"},domProps:{textContent:e._s(e.translate("display.description"))}})])])])},Y=[],K={name:"DisplayWish",mixins:[f],components:{Icon:O},props:{text:String,icon:String,open:Boolean,isHideDisplayDescription:Boolean}},G=K,U=(i("b777"),Object(y["a"])(G,X,Y,!1,null,"986829a6",null)),V=U.exports,Q=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"slide-buttons__container"},[i("button",{staticClass:"slide-button",attrs:{disabled:e.lodash.isBoolean(e.isBeginning)&&e.isBeginning},on:{click:function(t){e.$emit("slidePrev")&&e.setSlide(-1)}}},[i("Icon",{attrs:{type:"angle-double-small-left"}})],1),i("button",{staticClass:"slide-button",attrs:{disabled:e.lodash.isBoolean(e.isEnd)&&e.isEnd},on:{click:function(t){e.$emit("slideNext")&&e.setSlide(1)}}},[i("Icon",{attrs:{type:"angle-double-small-right"}})],1)])},Z=[],ee={name:"SlideButtons",components:{Icon:O},props:{value:{type:Number,default:0},limit:{type:Number,default:0},isEnd:{type:Boolean,default:null},isBeginning:{type:Boolean,default:null}},data:function(){return{lodash:c.a}},methods:{setSlide:function(e){var t=c.a.clamp(this.value+e,0,this.limit-1);this.$emit("input",t)}}},te=ee,ie=(i("f9c8"),Object(y["a"])(te,Q,Z,!1,null,"05fa5926",null)),ne=ie.exports,se={name:"LayoutWish",components:{Swiper:q["Swiper"],SwiperSlide:q["SwiperSlide"],SlideButtons:ne,DisplayWish:V},props:{appWidth:Number,bodyHeight:Number,changedWish:Object,slideStartIndex:Number,wishesTypes:Object,wishesTypesList:Array,wishType:String},data:function(){return{lodash:c.a,swiperRef:null,slideHeight:0,slideLength:0,slideIndex:0}},watch:{appWidth:["setSlideHeight","setSlidesSize"],slideIndex:"setSlidesSize",bodyHeight:{immediate:!0,handler:"setSlideHeight"},wishesTypes:{deep:!0,handler:"init"}},computed:{isEnd:function(){var e,t=!this.wishesTypesList.length,i=this.slideIndex===this.slideLength-1;return!(null===(e=this.swiperRef)||void 0===e||!e.isEnd)||i||t},isBeginning:function(){var e,t=!this.wishesTypesList.length,i=0===this.slideIndex;return!(null===(e=this.swiperRef)||void 0===e||!e.isBeginning)||i||t}},methods:{init:function(){var e,t,i;this.swiperRef=null===(e=this.$refs.swiper)||void 0===e?void 0:e.swiperRef,this.slideLength=(null===(t=this.swiperRef)||void 0===t||null===(i=t.slides)||void 0===i?void 0:i.length)||0;var n=(this.slideStartIndex+1)%this.wishesTypesList.length;c.a.invoke(this.swiperRef,"slideTo",n,0),this.$nextTick(this.setSlidesSize)},setSlideHeight:function(){var e=this;this.$nextTick((function(){var t,i,n;e.slideHeight=null===(t=e.$refs)||void 0===t||null===(i=t.swiper)||void 0===i||null===(n=i.$el)||void 0===n?void 0:n.offsetHeight}))},setSlidesSize:function(){var e=this,t=this.appWidth-40,i="translate3d(-".concat(this.slideIndex*t,"px, 0px, 0px)"),n=document.querySelector("#layout-wish .swiper-wrapper");c.a.invoke(null===n||void 0===n?void 0:n.style,"setProperty","max-width","".concat(t,"px")),c.a.invoke(null===n||void 0===n?void 0:n.style,"setProperty","transform",i);var s=document.querySelectorAll("#layout-wish .swiper-slide");[].forEach.call(s,(function(i,n){i.style.setProperty("width","".concat(t,"px")),c.a.set(e.swiperRef,"slidesGrid[".concat(n,"]"),n*t),c.a.set(e.swiperRef,"snapGrid[".concat(n,"]"),n*t),c.a.set(e.swiperRef,"slidesSizesGrid[".concat(n,"]"),t)}))},activeIndexChange:function(e){var t=e.realIndex;this.slideIndex=t;var i=(t-1+this.wishesTypesList.length)%this.wishesTypesList.length;this.$emit("changeWishType",this.wishesTypesList[i])}},mounted:function(){this.init()}},ae=se,re=(i("0d87"),Object(y["a"])(ae,F,A,!1,null,"3fdbd676",null)),oe=re.exports,ce={name:"LayoutContent",mixins:[f],components:{Icon:O,LayoutWish:oe},props:{appWidth:Number,appHeight:Number,bodyHeight:Number,isDesktop:Boolean,isWidthMore768:Boolean},data:function(){return{lodash:c.a,checkTime:null}},watch:{minisLang:{immediate:!0,handler:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("./wishes.".concat(t,".json")).then((function(e){return e.json()}));case 3:i=e.sent,this.addWishesByLang({lang:t,wishes:i}),e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()}},computed:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(h["b"])(["wishes","wishesTypes","wishesTypesList","maxWishesLength"])),Object(h["d"])(["wishType","changedWish"])),{},{gridTemplateRows:function(){var e=Math.min(.1*this.appHeight,60),t=this.appHeight-e;return"".concat(e,"px ").concat(t,"px")},checkTimeFormat:function(){if(this.checkTime){var e=(new Date).getTimezoneOffset()/60,t=(new Date(this.checkTime).getHours()+e).toString().padStart(2,0),i=new Date(this.checkTime).getMinutes().toString().padStart(2,0),n=new Date(this.checkTime).getSeconds().toString().padStart(2,0);return"".concat(t,":").concat(i,":").concat(n)}},isNotChagedSlide:function(){return this.changedWish.type&&this.wishType!==this.changedWish.type},headerText:function(){var e=c.a.get(this.wishesTypes,this.changedWish.type);return this.isNotChagedSlide?e:this.translate("header")+":"}}),methods:Object(r["a"])(Object(r["a"])({},Object(h["c"])(["changeWishType","changeWish","addWishesByLang"])),{},{changeWishHandler:function(){if(!this.checkTime){var e=this.wishesTypesList.length,t=c.a.indexOf(this.wishesTypesList,this.wishType),i=this.wishesTypesList[t%e];this.changeWish({type:i,textId:c.a.random(0,this.maxWishesLength),time:Date.now()+60*(new Date).getTimezoneOffset()*1e3})}},slideToChangedWish:function(){var e=this.$refs.layoutWish.swiperRef,t=c.a.indexOf(this.wishesTypesList,this.changedWish.type),i=(t+1)%this.wishesTypesList.length;c.a.invoke(e,"slideTo",i)},keydown:function(e){var t=e.key;e.shiftKey;switch(t){case"Escape":this.$emit("switchSettings");break;case"ArrowLeft":c.a.invoke(this.$refs.layoutWish,"swiperRef.slidePrev");break;case"ArrowRight":c.a.invoke(this.$refs.layoutWish,"swiperRef.slideNext");break;case" ":this.changeWishHandler();break}}}),beforeMount:function(){var e=this;document.addEventListener("keydown",this.keydown),setInterval((function(){requestAnimationFrame((function(){var t,i=Date.now()-144e5+60*(new Date).getTimezoneOffset()*1e3;e.checkTime=i<e.changedWish.time?e.changedWish.time-i+1e3:null,!e.checkTime&&null!==(t=e.changedWish)&&void 0!==t&&t.type&&e.changeWish({type:null,time:null,textId:null})}))}),100)},beforeDestroy:function(){document.removeEventListener("keydown",this.keydown)}},le=ce,ue=(i("e133"),Object(y["a"])(le,B,P,!1,null,null,null)),he=ue.exports,de={components:{LayoutContent:he,AppModal:$,SettingsDesktop:N,SettingsMobile:H,Icon:O},mixins:[d,p,m,f],data:function(){return{lodash:c.a,isClosedSettings:!0,openedModalName:null}},watch:{isDesktop:function(e){e&&"settings"==this.openedModalName&&(this.openedModalName=null,this.isClosedSettings=!1)},changedWish:{deep:!0,handler:function(e){e.time||"settings"!=this.openedModalName&&(this.openedModalName=null)}}},computed:Object(r["a"])(Object(r["a"])({},Object(h["d"])(["changedWish"])),Object(h["b"])(["wishes"])),methods:Object(r["a"])({},Object(h["c"])(["switchFullscreen"])),beforeMount:function(){var e=this;document.body.addEventListener("click",(function(t){document.body===t.path[0]&&e.isDesktop&&(e.isClosedSettings||(e.isClosedSettings=!0))}))}},pe=de,me=(i("5c0b"),Object(y["a"])(pe,s,a,!1,null,null,null)),fe=me.exports,ge=i("9483");Object(ge["a"])("".concat("/minis-wishes/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var ve=i("8468"),we=(i("a15b"),i("fb6a"),i("ddb0"),i("0e44")),be=i("0759"),ye=i.n(be),Se=i("0ce0"),Oe=(i("b64b"),{state:function(){return{minisLang:"ru",minisThemeMain:null,minisThemeSpecial:null,themesJSON:{},translateJSON:{},minisJSON:{}}},getters:{themeMain:function(e){var t,i,n=e.themesJSON,s=e.minisThemeMain,a=null===n||void 0===n||null===(t=n.main)||void 0===t?void 0:t[s];return a?n.main[s]:null===n||void 0===n||null===(i=n.main)||void 0===i?void 0:i.dark},themeSpecialName:function(e){var t,i,n,s=e.themesJSON,a=e.minisThemeSpecial,r=null===s||void 0===s||null===(t=s.special)||void 0===t||null===(i=t.colors)||void 0===i?void 0:i[a];return r?a:null===s||void 0===s||null===(n=s.special)||void 0===n?void 0:n.default},themeSpecial:function(e,t){var i,n,s=e.themesJSON,a=t.themeSpecialName;return null===s||void 0===s||null===(i=s.special)||void 0===i||null===(n=i.colors)||void 0===n?void 0:n[a]}}});Oe.mutations={switchTheme:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main",i="main"==t?"minisThemeMain":"minisThemeSpecial",s="main"==t?e.themesJSON.main:e.themesJSON.special.colors,a=Object.keys(s),r=a.indexOf(e[i]),o=(r+1)%a.length;n["default"].set(e,i,a[o])},switchLang:function(e){var t=Object.keys(e.translateJSON),i=t.indexOf(e.minisLang),s=(i+1)%t.length;n["default"].set(e,"minisLang",t[s])},initMinis:function(e,t){var i=t.translateJSON,s=t.minisJSON,a=t.themesJSON;n["default"].set(e,"minisJSON",s),n["default"].set(e,"translateJSON",i),n["default"].set(e,"themesJSON",a)}};var xe=Oe,ke=location.pathname.split("/")[1],We={};n["default"].use(h["a"]),We.state=function(){return{isFullscreen:!1,projectKey:ke.split("-").slice(1).join("-"),wishes:{},wishesTypes:Se,wishType:"prawn",changedWish:{textId:null,type:null,time:null}}},We.getters={wishes:function(e){var t=e.wishes,i=e.minis.minisLang;return c.a.get(t,i,[])},wishesTypes:function(e){var t=e.wishesTypes,i=e.minis.minisLang;return c.a.get(t,i,{})},wishesTypesList:function(e,t){Object(ve["a"])(e);var i=t.wishesTypes;return c.a.keys(i)},maxWishesLength:function(e){var t=e.wishes;return c.a.chain(t).mapValues(c.a.size).values().max().value()}},We.mutations={switchFullscreen:function(e){return n["default"].set(e,"isFullscreen",!e.isFullscreen)},changeWishType:function(e,t){return n["default"].set(e,"wishType",t)},changeWish:function(e,t){return n["default"].set(e,"changedWish",t)},addWishesByLang:function(e,t){var i=t.wishes,s=t.lang;c.a.size(e.wishes[s])||n["default"].set(e.wishes,s,i)}};var Ce=["minis.minisThemeMain","minis.minisThemeSpecial","minis.minisLang","minis.themesJSON","minis.translateJSON","minis.minisJSON"],Te=["isFullscreen","wishType","changedWish"];We.modules={minis:xe},We.plugins=[ye()({predicate:function(){return[].concat(Ce,Te)}}),Object(we["a"])({paths:Ce,key:"minis"}),Object(we["a"])({paths:Te,key:ke})];var Ne=new h["a"].Store(We);n["default"].config.productionTip=!1,new n["default"]({store:Ne,render:function(e){return e(fe)}}).$mount("#app")},"5c0b":function(e,t,i){"use strict";i("9c0c")},"72b7":function(e,t,i){"use strict";i("b357")},"82fb":function(e,t,i){},"98cc":function(e,t,i){},"9c0c":function(e,t,i){},a25b:function(e,t,i){},b357:function(e,t,i){},b777:function(e,t,i){"use strict";i("0b96")},d645:function(e,t,i){"use strict";i("98cc")},e133:function(e,t,i){"use strict";i("eed6")},e3aa:function(e,t,i){},e509:function(e,t,i){},e59a:function(e,t,i){"use strict";i("e3aa")},eed6:function(e,t,i){},f937:function(e,t,i){"use strict";i("e509")},f9c8:function(e,t,i){"use strict";i("82fb")}});
//# sourceMappingURL=app.f63dd6f4.js.map